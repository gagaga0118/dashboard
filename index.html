<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>能源效率动态仪表板 | 能源与动力工程</title>
    <!-- 数据可视化库 -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <!-- UI框架 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
    <!-- 中文输入转换库 -->
    <script src="https://cdn.jsdelivr.net/npm/vt@1.0.3/dist/vt.min.js"></script>
    <style>
        .analysis-card {
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .analysis-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(16, 185, 129, 0.2);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-gray-50 to-green-50 min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-6xl">
        <!-- 专业系统头部 -->
        <header class="text-center mb-10 border-b pb-6">
            <h1 class="text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-green-700 to-blue-700">
                ⚡ 动力工程能源智能分析系统
            </h1>
            <p class="text-gray-600 mt-3 text-lg">输入任何中国城市，分析天气对能源消耗与碳排放的影响规律</p>
            <div class="mt-4 inline-flex rounded-md shadow-sm">
                <span class="inline-flex items-center px-4 py-2 bg-green-100 text-green-800">API验证模型</span>
                <span class="inline-flex items-center px-4 py-2 bg-blue-100 text-blue-800">CFD理论驱动</span>
                <span class="inline-flex items-center px-4 py-2 bg-indigo-100 text-indigo-800">动态热力学分析</span>
            </div>
        </header>
        
        <!-- 智能搜索区域 -->
        <div class="max-w-2xl mx-auto bg-white p-6 rounded-xl shadow-lg mb-12 border border-green-200">
            <div class="flex">
                <input 
                    type="text" 
                    id="locationInput" 
                    placeholder="输入中国城市名（例如：广州、青岛）" 
                    class="flex-grow px-5 py-3 border-2 border-r-0 border-green-300 rounded-l-lg focus:ring-4 focus:ring-blue-300 focus:border-blue-500"
                >
                <button 
                    id="searchBtn" 
                    class="bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white px-6 py-3 rounded-r-lg font-medium transition-all"
                >
                    开始热力分析
                </button>
            </div>
            <p class="text-sm text-gray-500 mt-3 pl-1">提示：支持任意中国地级市，系统自动进行中英翻译</p>
        </div>
        
        <!-- 动态仪表板（初始隐藏） -->
        <div id="dashboard" class="hidden">
            <!-- 核心指标仪表盘 -->
            <div class="bg-white rounded-xl shadow-xl p-6 mb-10 border-t-4 border-green-500">
                <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                    </svg>
                    能量流动核心指标
                </h2>
                
                <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                    <div class="metric-card" id="temperatureCard">
                        <img src="https://cdn-icons-png.flaticon.com/512/3313/3313971.png" class="w-12 h-12 mb-3">
                        <h3>热力学温度</h3>
                        <p id="tempValue">-- °C</p>
                        <div class="badge">系统采集</div>
                    </div>
                    
                    <div class="metric-card" id="energyCard">
                        <img src="https://cdn-icons-png.flaticon.com/512/711/711797.png" class="w-12 h-12 mb-3">
                        <h3>耗能估算</h3>
                        <p id="energyValue">-- kW·h</p>
                        <div class="badge" id="energyModel">CFD-10模型</div>
                    </div>
                    
                    <div class="metric-card" id="carbonCard">
                        <img src="https://cdn-icons-png.flaticon.com/512/2666/2666493.png" class="w-12 h-12 mb-3">
                        <h3>理论碳排量</h3>
                        <p id="carbonValue">-- kgCO₂</p>
                        <div class="badge">公式换算</div>
                    </div>
                    
                    <div class="metric-card" id="efficiencyCard">
                        <img src="https://cdn-icons-png.flaticon.com/512/3594/3594098.png" class="w-12 h-12 mb-3">
                        <h3>制冷效率</h3>
                        <p id="efficiencyValue">-- COP</p>
                        <div class="badge">热力学模型</div>
                    </div>
                </div>
            </div>
            
            <!-- 专业级多维分析图表 -->
            <h2 class="text-2xl font-bold text-gray-800 mb-6 mt-16 flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                </svg>
                热动力学多维度分析系统
            </h2>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- 能量分布雷达图 -->
                <div class="analysis-card bg-white p-6 rounded-xl shadow-lg">
                    <h3 class="text-xl font-semibold mb-4 text-green-700 flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        温度-能耗相关性图谱
                    </h3>
                    <canvas id="radarChart" height="280"></canvas>
                </div>
                
                <!-- 区域性热力分布图 -->
                <div class="analysis-card bg-white p-6 rounded-xl shadow-lg">
                    <h3 class="text-xl font-semibold mb-4 text-blue-700 flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z" />
                        </svg>
                        气候带能源消耗趋势
                    </h3>
                    <canvas id="trendChart" height="280"></canvas>
                </div>
                
                <!-- 碳排放对比 -->
                <div class="analysis-card bg-white p-6 rounded-xl shadow-lg lg:col-span-2">
                    <h3 class="text-xl font-semibold mb-4 text-indigo-700 flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" />
                        </svg>
                        城市热岛效应与碳排放关系模型
                    </h3>
                    <canvas id="carbonChart" height="180"></canvas>
                </div>
            </div>
            
            <!-- 专业优化建议 -->
            <div class="bg-gradient-to-r from-green-600 to-blue-700 p-6 rounded-xl shadow-lg mt-10 text-white">
                <h2 class="text-2xl font-bold mb-4 flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                    </svg>
                    能源优化专业建议
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="bg-white bg-opacity-30 p-4 rounded-lg backdrop-blur-sm">
                        <h3 class="font-bold">用电策略优化</h3>
                        <p id="efficiencyTip" class="text-sm mt-2">计算中...</p>
                    </div>
                    <div class="bg-white bg-opacity-20 p-4 rounded-lg backdrop-blur-sm">
                        <h3 class="font-bold">热回收方案</h3>
                        <p id="recyclingTip" class="text-sm mt-2">计算中...</p>
                    </div>
                    <div class="bg-white bg-opacity-10 p-4 rounded-lg backdrop-blur-sm">
                        <h3 class="font-bold">可再生能源配比</h3>
                        <p id="renewableTip" class="text-sm mt-2">计算中...</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- 系统状态反馈 -->
        <div id="loading" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
            <div class="bg-white rounded-xl p-8 max-w-md text-center">
                <div class="w-16 h-16 border-t-4 border-green-600 border-solid rounded-full animate-spin mx-auto mb-4"></div>
                <h3 class="text-xl font-bold text-gray-800">正在执行高级热力学分析</h3>
                <p id="loadingText" class="text-gray-600 mt-2">正在调用气象模型和能源分析引擎...</p>
            </div>
        </div>
        
        <!-- 错误提示 -->
        <div id="errorMsg" class="hidden fixed bottom-6 left-1/2 transform -translate-x-1/2 bg-red-600 text-white px-6 py-3 rounded-lg shadow-lg max-w-md z-50"></div>
    </div>
    
    <!-- 详细数据版权声明 -->
    <footer class="text-center py-8 text-gray-600 text-sm">
        <div class="container mx-auto px-4">
            <p>© 2023 能源与动力工程专业动态仿真系统 | 公式验证模型： 
                <span class="font-mono">Q = m·c·ΔT + (UA·ΔT) + COP·E<sub>elec</sub></span>
            </p>
            <p class="mt-2">数据来源：OpenWeatherMap × 阿里云机器翻译 × CFD修正模型</p>
            <div class="flex justify-center space-x-6 mt-4">
                <img src="https://img.icons8.com/color/48/000000/github.png" alt="GitHub" class="h-6">
                <img src="https://img.icons8.com/color/48/000000/cloudflare.png" alt="Cloudflare" class="h-6">
                <img src="https://img.icons8.com/color/48/000000/react-native.png" alt="React" class="h-6">
            </div>
        </div>
    </footer>
    
    <script src="script.js"></script>
</body>
</html>